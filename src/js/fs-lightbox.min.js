/*
 * Lightbox-FS
 * Copyright 2019
 * Author: Faisal Rashid
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * Project: https://github.com/FaisalST32/fs-lightbox
 */

function FsLightbox(){var e=this;this.imagesArray=[],this.currentImage,this.isLightbox=!1;let t='\n                            <div class="lightbox-controls">\n                                <span class="lb-prev">&lt;&nbsp;Prev</span>&nbsp;&nbsp;|&nbsp;\n                                <span class="lb-next">Next&nbsp;&gt;</span>\n                            </div>\n                        ';function i(){return+e.currentImage.getAttribute("data-lightbox-index")}this.render=(()=>{document.querySelectorAll("img.fs-lightbox").forEach((t,i)=>{e.imagesArray.push(t),t.setAttribute("data-lightbox-index",i),t.addEventListener("click",()=>{e.lightbox(t)})}),document.addEventListener("keydown",t=>{37===t.keyCode&&e.isLightbox?e.prev():39===t.keyCode&&e.isLightbox?e.next():27===t.keyCode&&e.isLightbox&&e.hideLightbox()})}),this.lightbox=(r=>{this.hideLightbox(),this.currentImage=r,this.isLightbox=!0;var o=document.createElement("div");o.classList.add("lightbox-overlay"),o.addEventListener("click",this.hideLightbox);var n=document.createElement("div");n.classList.add("lightbox-image");var l=document.createElement("img");l.src=r.src,n.appendChild(l),document.querySelector("body").appendChild(o),document.querySelector("body").appendChild(n),function(r){let o=document.createElement("div");o.innerHTML+=t,document.querySelector("body").appendChild(o.querySelector(".lightbox-controls"));let n=i();n>0?document.querySelector(".lb-prev").addEventListener("click",()=>{e.prev()}):document.querySelector(".lb-prev").classList.add(["lb-disabled"]);n<e.imagesArray.length-1?document.querySelector(".lb-next").addEventListener("click",()=>{e.next()}):document.querySelector(".lb-next").classList.add(["lb-disabled"]);!function(){let t=i(),r=document.createElement("span"),o=`<br/>${t+1} of ${e.imagesArray.length}`;r.innerHTML=o,document.querySelector(".lightbox-controls").appendChild(r)}()}()}),this.next=(()=>{i()!==e.imagesArray.length-1&&e.lightbox(e.imagesArray[i()+1])}),this.prev=(()=>{0!==i()&&e.lightbox(e.imagesArray[i()-1])}),this.hideLightbox=(()=>{let e=document.querySelector(".lightbox-overlay"),t=document.querySelector(".lightbox-image"),i=document.querySelector(".lightbox-controls");e&&document.querySelector("body").removeChild(e),t&&document.querySelector("body").removeChild(t),i&&document.querySelector("body").removeChild(i),this.isLightbox=!1})}var fsLightbox=new FsLightbox;fsLightbox.render();